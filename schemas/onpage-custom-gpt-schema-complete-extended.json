{
  "openapi": "3.1.0",
  "info": {
    "title": "DataForSEO OnPage APIs - Vollst√§ndig Erweitert",
    "description": "üöÄ Vollst√§ndige OnPage APIs f√ºr Custom GPT - Alle 31 Tools mit erweiterten Parametern f√ºr maximale Funktionalit√§t",
    "version": "3.0.0"
  },
  "servers": [
    {
      "url": "https://yourank-mcp.vercel.app",
      "description": "Vercel Production Server"
    }
  ],
  "security": [
    {
      "basicAuth": []
    }
  ],
  "paths": {
    "/v3/onpage_core": {
      "post": {
        "summary": "üí∞ OnPage Kernfunktionen",
        "description": "Erstelle OnPage-Analyse-Tasks, rufe Zusammenfassungen ab und verwalte fertige Tasks. Startet Website-Crawling mit konfigurierbaren Parametern wie JavaScript-Aktivierung, Custom User-Agent und Browser-Rendering.",
        "operationId": "onPageCore",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": ["task_post", "summary", "tasks_ready"],
                    "description": "Art der Operation"
                  },
                  "target": {
                    "type": "string",
                    "description": "URL der zu analysierenden Website (nur f√ºr task_post)"
                  },
                  "id": {
                    "type": "string",
                    "description": "Task ID (f√ºr summary)"
                  },
                  "language_code": {
                    "type": "string",
                    "description": "Sprachcode",
                    "default": "en"
                  },
                  "location_name": {
                    "type": "string",
                    "description": "Standort",
                    "default": "United States"
                  },
                  "device": {
                    "type": "string",
                    "enum": ["desktop", "mobile"],
                    "description": "Ger√§tetyp",
                    "default": "desktop"
                  },
                  "max_crawl_pages": {
                    "type": "integer",
                    "description": "Maximale Anzahl der zu crawlenden Seiten",
                    "default": 10,
                    "minimum": 1,
                    "maximum": 1000
                  },
                  "start_url": {
                    "type": "string",
                    "description": "Erste URL zum Crawlen (optional)"
                  },
                  "enable_javascript": {
                    "type": "boolean",
                    "description": "JavaScript aktivieren",
                    "default": false
                  },
                  "custom_js": {
                    "type": "string",
                    "description": "Custom JavaScript Code"
                  },
                  "custom_user_agent": {
                    "type": "string",
                    "description": "Custom User-Agent Header"
                  },
                  "accept_language": {
                    "type": "string",
                    "description": "Accept-Language Header",
                    "default": "en-US,en;q=0.9"
                  },
                  "enable_browser_rendering": {
                    "type": "boolean",
                    "description": "Browser-Rendering aktivieren",
                    "default": false
                  },
                  "load_resources": {
                    "type": "boolean",
                    "description": "Ressourcen laden",
                    "default": true
                  },
                  "custom_settings": {
                    "type": "object",
                    "description": "Custom Einstellungen"
                  }
                },
                "required": ["type"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OnPage Kernfunktion erfolgreich",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status_code": {"type": "integer"},
                    "task_id": {"type": "string"},
                    "status_message": {"type": "string"},
                    "tasks_count": {"type": "integer"},
                    "summary": {
                      "type": "object",
                      "properties": {
                        "total_pages": {"type": "integer"},
                        "crawl_status": {"type": "string"},
                        "progress": {"type": "string"},
                        "crawl_progress": {"type": "number"}
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v3/onpage_analysis": {
      "post": {
        "summary": "üí∞ OnPage Analyse-Tools",
        "description": "Analysiere gecrawlte Websites: Seiten-√úbersicht, Ressourcen-Details, interne/externe Links, Duplicate Content und Tags, Performance-Waterfall-Daten und Keyword-Dichte. Erhalte detaillierte SEO-Insights mit Filter- und Sortierungsoptionen.",
        "operationId": "onPageAnalysis",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": ["pages", "resources", "links", "duplicate_tags", "duplicate_content", "waterfall", "keyword_density"],
                    "description": "Art der Analyse"
                  },
                  "id": {
                    "type": "string",
                    "description": "Task ID"
                  },
                  "url": {
                    "type": "string",
                    "description": "URL der zu analysierenden Seite (f√ºr pages, waterfall, keyword_density)"
                  },
                  "limit": {
                    "type": "integer",
                    "description": "Anzahl der Ergebnisse",
                    "default": 10,
                    "minimum": 1,
                    "maximum": 1000
                  },
                  "offset": {
                    "type": "integer",
                    "description": "Offset f√ºr Pagination",
                    "default": 0,
                    "minimum": 0
                  },
                  "filters": {
                    "type": "array",
                    "items": {"type": "object"},
                    "description": "Filter f√ºr die Analyse"
                  },
                  "order_by": {
                    "type": "array",
                    "items": {"type": "string"},
                    "description": "Sortierung der Ergebnisse"
                  },
                  "summary_only": {
                    "type": "boolean",
                    "description": "Nur Zusammenfassung ohne Details",
                    "default": true
                  }
                },
                "required": ["type", "id"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OnPage Analyse erfolgreich",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status_code": {"type": "integer"},
                    "analysis_type": {"type": "string"},
                    "total_items": {"type": "integer"},
                    "items_returned": {"type": "integer"},
                    "summary": {
                      "type": "object",
                      "properties": {
                        "pages_count": {"type": "integer"},
                        "resources_count": {"type": "integer"},
                        "links_count": {"type": "integer"},
                        "duplicate_issues": {"type": "integer"},
                        "performance_score": {"type": "number"},
                        "average_load_time": {"type": "number"},
                        "total_size_bytes": {"type": "integer"}
                      }
                    },
                    "top_items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "url": {"type": "string"},
                          "title": {"type": "string"},
                          "score": {"type": "number"},
                          "issues": {"type": "integer"},
                          "load_time": {"type": "number"},
                          "size_bytes": {"type": "integer"}
                        }
                      },
                      "maxItems": 50
                    },
                    "blob_storage": {
                      "type": "object",
                      "properties": {
                        "storage": {"type": "string"},
                        "results_url": {"type": "string"},
                        "proxy_url": {"type": "string"},
                        "size_bytes": {"type": "integer"}
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v3/onpage_content": {
      "post": {
        "summary": "üí∞ OnPage Content-Tools",
        "description": "Extrahiere Website-Content: Raw HTML-Code, hochaufl√∂sende Screenshots, Content-Parsing mit strukturierten Daten, Live-Content-Analyse und Instant-Page-Scans. Perfekt f√ºr Content-Audits und visuelle Website-Analysen.",
        "operationId": "onPageContent",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": ["raw_html", "page_screenshot", "content_parsing", "content_parsing_live", "instant_pages"],
                    "description": "Art der Content-Operation"
                  },
                  "id": {
                    "type": "string",
                    "description": "Task ID (f√ºr raw_html, page_screenshot, content_parsing)"
                  },
                  "url": {
                    "type": "string",
                    "description": "URL der zu analysierenden Seite"
                  },
                  "limit": {
                    "type": "integer",
                    "description": "Anzahl der Ergebnisse",
                    "default": 5,
                    "minimum": 1,
                    "maximum": 100
                  },
                  "offset": {
                    "type": "integer",
                    "description": "Offset f√ºr Pagination",
                    "default": 0,
                    "minimum": 0
                  },
                  "screenshot_width": {
                    "type": "integer",
                    "description": "Screenshot-Breite (f√ºr page_screenshot)",
                    "default": 1920,
                    "minimum": 320,
                    "maximum": 3840
                  },
                  "screenshot_height": {
                    "type": "integer",
                    "description": "Screenshot-H√∂he (f√ºr page_screenshot)",
                    "default": 1080,
                    "minimum": 240,
                    "maximum": 2160
                  },
                  "enable_javascript": {
                    "type": "boolean",
                    "description": "JavaScript aktivieren",
                    "default": false
                  },
                  "custom_js": {
                    "type": "string",
                    "description": "Custom JavaScript Code"
                  },
                  "custom_user_agent": {
                    "type": "string",
                    "description": "Custom User-Agent Header"
                  },
                  "accept_language": {
                    "type": "string",
                    "description": "Accept-Language Header",
                    "default": "en-US,en;q=0.9"
                  },
                  "viewport_width": {
                    "type": "integer",
                    "description": "Viewport-Breite",
                    "default": 1920,
                    "minimum": 320,
                    "maximum": 3840
                  },
                  "viewport_height": {
                    "type": "integer",
                    "description": "Viewport-H√∂he",
                    "default": 1080,
                    "minimum": 240,
                    "maximum": 2160
                  },
                  "summary_only": {
                    "type": "boolean",
                    "description": "Nur Zusammenfassung ohne Details",
                    "default": true
                  }
                },
                "required": ["type"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OnPage Content-Operation erfolgreich",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status_code": {"type": "integer"},
                    "content_type": {"type": "string"},
                    "url": {"type": "string"},
                    "summary": {
                      "type": "object",
                      "properties": {
                        "title": {"type": "string"},
                        "meta_description": {"type": "string"},
                        "headings_count": {"type": "integer"},
                        "links_count": {"type": "integer"},
                        "images_count": {"type": "integer"},
                        "word_count": {"type": "integer"},
                        "paragraph_count": {"type": "integer"},
                        "internal_links": {"type": "integer"},
                        "external_links": {"type": "integer"}
                      }
                    },
                    "preview": {
                      "type": "object",
                      "properties": {
                        "html_preview": {"type": "string", "maxLength": 1000},
                        "screenshot_url": {"type": "string"},
                        "content_preview": {"type": "string", "maxLength": 2000},
                        "structured_data": {"type": "object"}
                      }
                    },
                    "blob_storage": {
                      "type": "object",
                      "properties": {
                        "storage": {"type": "string"},
                        "results_url": {"type": "string"},
                        "proxy_url": {"type": "string"},
                        "size_bytes": {"type": "integer"}
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v3/onpage_microdata": {
      "post": {
        "summary": "üí∞ Microdata-Validierung",
        "description": "Validiere strukturierte Daten und Microdata auf Websites: JSON-LD, Schema.org-Markup, Open Graph-Tags und andere strukturierte Datenformate. Erhalte detaillierte Validierungsberichte mit Fehleranalyse und Schema-Typen.",
        "operationId": "onPageMicrodata",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "url": {
                    "type": "string",
                    "description": "URL der zu analysierenden Seite"
                  },
                  "enable_javascript": {
                    "type": "boolean",
                    "description": "JavaScript aktivieren",
                    "default": false
                  },
                  "custom_js": {
                    "type": "string",
                    "description": "Custom JavaScript Code"
                  },
                  "custom_user_agent": {
                    "type": "string",
                    "description": "Custom User-Agent Header"
                  },
                  "accept_language": {
                    "type": "string",
                    "description": "Accept-Language Header",
                    "default": "en-US,en;q=0.9"
                  },
                  "summary_only": {
                    "type": "boolean",
                    "description": "Nur Zusammenfassung ohne Details",
                    "default": true
                  }
                },
                "required": ["url"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Microdata-Validierung erfolgreich",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status_code": {"type": "integer"},
                    "url": {"type": "string"},
                    "summary": {
                      "type": "object",
                      "properties": {
                        "total_schemas": {"type": "integer"},
                        "valid_schemas": {"type": "integer"},
                        "invalid_schemas": {"type": "integer"},
                        "schema_types": {"type": "array", "items": {"type": "string"}}
                      }
                    },
                    "schemas": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "type": {"type": "string"},
                          "valid": {"type": "boolean"},
                          "errors": {"type": "array", "items": {"type": "string"}},
                          "properties": {"type": "object"}
                        }
                      },
                      "maxItems": 20
                    },
                    "blob_storage": {
                      "type": "object",
                      "properties": {
                        "storage": {"type": "string"},
                        "results_url": {"type": "string"},
                        "proxy_url": {"type": "string"},
                        "size_bytes": {"type": "integer"}
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v3/onpage_lighthouse": {
      "post": {
        "summary": "üí∞ OnPage Lighthouse-Tools",
        "description": "F√ºhre umfassende Lighthouse-Analysen durch: Performance-Scores, Accessibility-Bewertungen, SEO-Optimierung, Best Practices und PWA-Features. Erhalte detaillierte Core Web Vitals, Audit-Ergebnisse und Verbesserungsvorschl√§ge.",
        "operationId": "onPageLighthouse",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": ["languages", "audits", "versions", "task_post", "tasks_ready", "task_get", "summary", "live"],
                    "description": "Art der Lighthouse-Operation"
                  },
                  "url": {
                    "type": "string",
                    "description": "URL der zu analysierenden Seite (f√ºr task_post, live)"
                  },
                  "id": {
                    "type": "string",
                    "description": "Task ID (f√ºr task_get, summary)"
                  },
                  "language_code": {
                    "type": "string",
                    "description": "Sprachcode",
                    "default": "en"
                  },
                  "category": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": ["performance", "accessibility", "seo", "pwa", "best-practices"]
                    },
                    "description": "Lighthouse-Kategorien"
                  },
                  "version": {
                    "type": "string",
                    "description": "Lighthouse-Version"
                  },
                  "summary_only": {
                    "type": "boolean",
                    "description": "Nur Zusammenfassung ohne Details",
                    "default": true
                  },
                  "max_issues": {
                    "type": "integer",
                    "description": "Maximale Anzahl der Issues",
                    "default": 10,
                    "minimum": 1,
                    "maximum": 50
                  }
                },
                "required": ["type"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Lighthouse-Operation erfolgreich",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status_code": {"type": "integer"},
                    "status_message": {"type": "string"},
                    "task_id": {"type": "string"},
                    "url": {"type": "string"},
                    "fetch_time": {"type": "string"},
                    "lighthouse_version": {"type": "string"},
                    "scores": {
                      "type": "object",
                      "properties": {
                        "performance": {"type": "number"},
                        "accessibility": {"type": "number"},
                        "seo": {"type": "number"},
                        "best-practices": {"type": "number"},
                        "pwa": {"type": "number"}
                      }
                    },
                    "performance_metrics": {
                      "type": "object",
                      "properties": {
                        "first_contentful_paint": {"type": "number"},
                        "largest_contentful_paint": {"type": "number"},
                        "cumulative_layout_shift": {"type": "number"},
                        "total_blocking_time": {"type": "number"},
                        "speed_index": {"type": "number"},
                        "interactive": {"type": "number"},
                        "first_meaningful_paint": {"type": "number"}
                      }
                    },
                    "top_issues": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {"type": "string"},
                          "title": {"type": "string"},
                          "score": {"type": "number"},
                          "category": {"type": "string"},
                          "impact": {"type": "string"},
                          "description": {"type": "string"}
                        }
                      },
                      "maxItems": 50
                    },
                    "category_summary": {
                      "type": "object",
                      "properties": {
                        "performance": {"type": "object", "properties": {"score": {"type": "number"}, "issues_count": {"type": "integer"}}},
                        "accessibility": {"type": "object", "properties": {"score": {"type": "number"}, "issues_count": {"type": "integer"}}},
                        "seo": {"type": "object", "properties": {"score": {"type": "number"}, "issues_count": {"type": "integer"}}},
                        "best-practices": {"type": "object", "properties": {"score": {"type": "number"}, "issues_count": {"type": "integer"}}},
                        "pwa": {"type": "object", "properties": {"score": {"type": "number"}, "issues_count": {"type": "integer"}}}
                      }
                    },
                    "audit_summary": {
                      "type": "object",
                      "properties": {
                        "total_audits": {"type": "integer"},
                        "passed_audits": {"type": "integer"},
                        "failed_audits": {"type": "integer"},
                        "not_applicable": {"type": "integer"}
                      }
                    },
                    "blob_storage": {
                      "type": "object",
                      "properties": {
                        "storage": {"type": "string"},
                        "results_url": {"type": "string"},
                        "proxy_url": {"type": "string"},
                        "size_bytes": {"type": "integer"},
                        "expires_at": {"type": "string"}
                      }
                    },
                    "_message": {"type": "string", "description": "Hinweis √ºber vollst√§ndige Daten"}
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v3/onpage_management": {
      "post": {
        "summary": "üí∞ OnPage Verwaltung",
        "description": "Verwalte OnPage-Tasks und analysiere Website-Probleme: Task-Listen, Fehler-Diagnose, verf√ºgbare Filter, Redirect-Chains-Analyse, Non-Indexable-Seiten und Pages-by-Resource-Mapping. Zentrale Verwaltung f√ºr alle OnPage-Operationen.",
        "operationId": "onPageManagement",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": ["id_list", "errors", "force_stop", "available_filters", "pages_by_resource", "redirect_chains", "non_indexable"],
                    "description": "Art der Verwaltungs-Operation"
                  },
                  "id": {
                    "type": "string",
                    "description": "Task ID (f√ºr errors, force_stop, pages_by_resource, redirect_chains, non_indexable)"
                  },
                  "date_from": {
                    "type": "string",
                    "format": "date",
                    "description": "Startdatum (YYYY-MM-DD) f√ºr id_list, errors"
                  },
                  "date_to": {
                    "type": "string",
                    "format": "date",
                    "description": "Enddatum (YYYY-MM-DD) f√ºr id_list, errors"
                  },
                  "resource_url": {
                    "type": "string",
                    "description": "URL der Resource (f√ºr pages_by_resource)"
                  },
                  "limit": {
                    "type": "integer",
                    "description": "Anzahl der Ergebnisse",
                    "default": 10,
                    "minimum": 1,
                    "maximum": 1000
                  },
                  "offset": {
                    "type": "integer",
                    "description": "Offset f√ºr Pagination",
                    "default": 0,
                    "minimum": 0
                  },
                  "filters": {
                    "type": "array",
                    "items": {"type": "object"},
                    "description": "Filter f√ºr die Verwaltung"
                  },
                  "order_by": {
                    "type": "array",
                    "items": {"type": "string"},
                    "description": "Sortierung der Ergebnisse"
                  },
                  "summary_only": {
                    "type": "boolean",
                    "description": "Nur Zusammenfassung ohne Details",
                    "default": true
                  }
                },
                "required": ["type"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OnPage Verwaltung erfolgreich",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status_code": {"type": "integer"},
                    "operation_type": {"type": "string"},
                    "total_items": {"type": "integer"},
                    "items_returned": {"type": "integer"},
                    "summary": {
                      "type": "object",
                      "properties": {
                        "task_count": {"type": "integer"},
                        "error_count": {"type": "integer"},
                        "filter_count": {"type": "integer"},
                        "redirect_count": {"type": "integer"},
                        "non_indexable_count": {"type": "integer"},
                        "pages_by_resource_count": {"type": "integer"}
                      }
                    },
                    "top_items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {"type": "string"},
                          "url": {"type": "string"},
                          "status": {"type": "string"},
                          "error_message": {"type": "string"},
                          "created_at": {"type": "string"},
                          "updated_at": {"type": "string"},
                          "priority": {"type": "integer"}
                        }
                      },
                      "maxItems": 100
                    },
                    "available_filters": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {"type": "string"},
                          "type": {"type": "string"},
                          "description": {"type": "string"},
                          "options": {"type": "array", "items": {"type": "string"}}
                        }
                      }
                    },
                    "blob_storage": {
                      "type": "object",
                      "properties": {
                        "storage": {"type": "string"},
                        "results_url": {"type": "string"},
                        "proxy_url": {"type": "string"},
                        "size_bytes": {"type": "integer"}
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "basicAuth": {
        "type": "http",
        "scheme": "basic"
      }
    },
    "schemas": {
      "ServerStatusResponse": {
        "type": "object",
        "properties": {
          "status": {"type": "string"},
          "message": {"type": "string"},
          "timestamp": {"type": "string"}
        }
      },
      "OnPageError": {
        "type": "object",
        "properties": {
          "code": {"type": "integer"},
          "message": {"type": "string"},
          "details": {"type": "string"}
        }
      },
      "BlobStorage": {
        "type": "object",
        "properties": {
          "storage": {"type": "string"},
          "results_url": {"type": "string"},
          "proxy_url": {"type": "string"},
          "size_bytes": {"type": "integer"},
          "expires_at": {"type": "string"}
        }
      }
    }
  }
}
